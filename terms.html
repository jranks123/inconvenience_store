<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terms and Conditions</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="terms-container" id="termsContent"></div>
    <button id="acceptTermsButton">I've read and accept the terms and conditions</button>

    <div id="quizModal" class="modal">
        <div class="modal-content">
          <p>We noticed that you read these very quickly. To make sure that you actually read them, please answer these 3 questions correctly to continue:</p>          
            <form id="quizForm">
                <div id="quizQuestions"></div>
                <button type="submit">Submit</button>
            </form>
        </div>
    </div>

    <div id="failModal" class="modal">
        <div class="modal-content">
            <p>Sorry, we could not verify that you are human. Please try again.</p>
            <button id="failContinueButton">Continue</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');
            const sessionToken = sessionStorage.getItem('termsToken');
            console.log(token);
            console.log(sessionToken);
            if (!token || token !== sessionToken) {
                window.location.href = 'index.html'; // Redirect to main page if token is invalid
            }
        });
    </script>
    <script src="terms.js"></script>
</body>
</html>
